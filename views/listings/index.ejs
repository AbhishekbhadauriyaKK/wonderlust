
<% layout("/layouts/boilerplate.ejs") -%>

<body>
    <!-- <h3> All Listings</h3> -->
    <!-- <form method="get" action="/listings/new">
        <button>create new </button>
    </form> -->

    <style>
       .filters{
             display: flex;
             flex-wrap: wrap;
             align-items: center;
       }
       .filter{
        text-align: center;
        margin-right: 2rem;
        margin-top: 2rem;
        opacity: 0.7;
       }
       .filter:hover{
        opacity: 1;
        cursor: pointer;
       }
       .filter p{
        font-size: 0.8rem;
       }
       .taxt-toggle{
        border: 1px solid black;
        border-radius: 1rem;
        height: 3.25rem;
        padding: 1rem;
        padding-inline: 2rem;
        margin-left: 3rem;
        display: flex;
        align-items: center;
       }
       .tax-info{
        display: none;
       }
    </style>

    <div class="filters">
        <div class="filter">
            <div><i class="fa-solid fa-fire"></i> </div>
            <p>Trending</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-bed"></i> </div>
            <p>Rooms</p>
        </div>
        <div class="filter">
            <div><i class="fa-brands fa-fort-awesome"></i> </div>
            <p>Castles</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-person-swimming"></i> </div>
            <p>Amazing Pools</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-tree"></i> </div>
            <p>Camping</p>
        </div>
        <!-- <div class="filter">
            <div><i class="fa-solid fa-cow"></i> </div>
            <p>Farms</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-person-skating"></i> </div>
            <p>Artic</p>
        </div> -->
        <div class="filter">
            <div><i class="fa-solid fa-house"></i> </div>
            <p>villas</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-mountain-city"></i> </div>
            <p>Mountain cities</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-igloo"></i> </div>
            <p>Doms</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-champagne-glasses"></i> </div>
            <p>Party-destination</p>
        </div>

        <div class="taxt-toggle">
            <div class="form-check-reverse form-switch ">
                <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
                <label class="form-check-label" for="flexSwitchCheckReverse">display before total taxes</label>
              </div>
        </div>


    </div>
    
    <div class="row  ">
        <% for(list of alllistings){  %>
            <a href="/listings/<%= list._id  %>  " class="card-links">
            <div class=" card  col  cols-lg-3 cols-sm-1 cols-md-2 listing-card" style="width: 20rem;">
                <img src="<%= list.image.url  %>" class="card-img-top"
                 alt="listing_image" 
                 style="height: 20rem;"/>
                <div class="card-img-overlay"> </div>
                <div class="card-body">
                  <p><%= list.title  %></p>
                  <p >  &#8377;<%= list.price  %> /night
                     <i class="tax-info">&nbsp; +18%GST</i> </p>
                  
                        </div>
              </div>
            </a>
              <% } %>
    </div>

    


    <!-- <ul>
        < % for(list of alllistings){  %>
        <li><a href="/listings/<%= list._id %>">  <%= list.title %></a></li>
       
        < % } %> -->
    <!-- </ul>  -->

    <script>
        let taxswitch= document.getElementById("flexSwitchCheckReverse");
        taxswitch.addEventListener("click",()=>{
            let taxinfo= document.getElementsByClassName("tax-info");
            for(info of taxinfo){
                if(info.style.display!="inline"){
                    info.style.display="inline";
                }
                else{
                    info.style.display="none";
                }
            }

        })
    </script>

</body>
